{"version":3,"sources":["index.js"],"names":["Cookies","all","document","cookie","split","map","s","trim","get","name","selected","find","row","startsWith","set","value","newCookie","rest","filter","newString","join","LgpdCookieConsentBanner","template","cookies","location","host","innerHTML","querySelector","addEventListener","HTMLElement","customElements","define","currentScript","insertAdjacentHTML"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,OAAT,GAAmB;AAAA;;AACjB,OAAKC,GAAL,GAAW;AAAA,WAAMC,QAAQ,CAACC,MAAT,CAAgBC,KAAhB,CAAsB,GAAtB,EAA2BC,GAA3B,CAA+B,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACC,IAAF,EAAJ;AAAA,KAAhC,CAAN;AAAA,GAAX;;AAEA,OAAKC,GAAL,GAAW,UAACC,IAAD,EAAU;AACnB,QAAMC,QAAQ,GAAG,KAAI,CAACT,GAAL,GAAWU,IAAX,CAAgB,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,UAAJ,WAAkBJ,IAAlB,OAAJ;AAAA,KAAnB,CAAjB;;AACA,QAAI,CAACC,QAAL,EAAe;AACf,WAAOA,QAAQ,CAACN,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAP;AACD,GAJD;;AAMA,OAAKU,GAAL,GAAW,UAACL,IAAD,EAAOM,KAAP,EAAiB;AAC1B,QAAMC,SAAS,aAAMP,IAAN,cAAcM,KAAd,CAAf;;AACA,QAAME,IAAI,GAAG,KAAI,CAAChB,GAAL,GAAWiB,MAAX,CAAkB,UAAAN,GAAG;AAAA,aAAI,CAACA,GAAG,CAACC,UAAJ,WAAkBJ,IAAlB,OAAL;AAAA,KAArB,CAAb;;AAEA,QAAMU,SAAS,GAAG,CAChBH,SADgB,4BAEbC,IAFa,GAGhBG,IAHgB,CAGX,IAHW,CAAlB;AAKAlB,IAAAA,QAAQ,CAACC,MAAT,GAAkBgB,SAAlB;AACD,GAVD;AAWD;;IAEKE;;;;;AACJ,qCAAc;AAAA;;AAAA;;AACZ;AAEA,WAAKZ,IAAL,GAAY,mBAAZ;AACA,WAAKa,QAAL,GAAgB,EAAhB;AACA,WAAKC,OAAL,GAAe,IAAIvB,OAAJ,EAAf;AAEA,WAAKsB,QAAL,6iCA4C4DpB,QAAQ,CAACsB,QAAT,CAAkBC,IA5C9E;AAPY;AA0Db;;;;WAED,6BAAoB;AAAA;;AAClB,UAAI,KAAKF,OAAL,CAAaf,GAAb,CAAiB,KAAKC,IAAtB,CAAJ,EAAiC;AAEjC,WAAKiB,SAAL,GAAiB,KAAKJ,QAAtB;AACA,WAAKK,aAAL,CAAmB,iBAAnB,EAAsCC,gBAAtC,CAAuD,OAAvD,EAAgE,YAAM;AACpE,QAAA,MAAI,CAACL,OAAL,CAAaT,GAAb,CAAiB,MAAI,CAACL,IAAtB,EAA4B,IAA5B;;AACA,QAAA,MAAI,CAACiB,SAAL,GAAiB,EAAjB;AACD,OAHD;AAID;;;;iCArEmCG;;AAwEtCC,cAAc,CAACC,MAAf,CAAsB,4BAAtB,EAAoDV,uBAApD;AAEAnB,QAAQ,CAAC8B,aAAT,CACGC,kBADH,CACsB,aADtB,EACqC,2DADrC","file":"src.e31bb0bc.js","sourceRoot":"../src","sourcesContent":["function Cookies() {\n  this.all = () => document.cookie.split(';').map(s => s.trim());\n\n  this.get = (name) => {\n    const selected = this.all().find(row => row.startsWith(`${name}=`));\n    if (!selected) return;\n    return selected.split('=')[1];\n  }\n\n  this.set = (name, value) => {\n    const newCookie = `${name}=${value}`;\n    const rest = this.all().filter(row => !row.startsWith(`${name}=`));\n\n    const newString = [\n      newCookie,\n      ...rest,\n    ].join('; ');\n\n    document.cookie = newString;\n  }\n}\n\nclass LgpdCookieConsentBanner extends HTMLElement {\n  constructor() {\n    super();\n\n    this.name = 'lgpd-ccb-accepted';\n    this.template = '';\n    this.cookies = new Cookies();\n\n    this.template = `\n    <style>\n      .banner {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        max-width: 20rem;\n        padding: 1em;\n        margin-left: 1em;\n        margin-bottom: 1em;\n        border: 1px solid #ebebeb;\n        background-color: #f9f9f9;\n        box-shadow: 0 0 5px 0px #d9d9d9;\n      }\n\n      .banner__text {\n        margin-top: 0;\n        margin-bottom: 1rem;\n      }\n\n      .banner__action {\n        width: 100%;\n        height: 32px;\n        font-family: inherit;\n        font-size: 11px;\n        color: #fff;\n        background-color: #2c7644;\n        text-transform: uppercase;\n        text-align: center;\n        font-weight: 600;\n        cursor: pointer;\n        margin: 0;\n        border: 0;\n        transition: background .17s ease;\n      }\n\n      .banner__action:hover {\n        background-color: #111111;\n      }\n    </style>\n\n    <div class=\"banner\">\n      <p class=\"banner__text\">\n        Usamos cookies para melhorar sua experiência no <code>${document.location.host}</code>.\n        Ao continuar navegando você aceita o uso desses.\n      </p>\n\n      <button class=\"banner__action\">Aceitar e continuar</button>\n    </div>\n`;\n  }\n\n  connectedCallback() {\n    if (this.cookies.get(this.name)) return;\n\n    this.innerHTML = this.template;\n    this.querySelector('.banner__action').addEventListener('click', () => {\n      this.cookies.set(this.name, true);\n      this.innerHTML = '';\n    });\n  }\n}\n\ncustomElements.define('lgpd-cookie-consent-banner', LgpdCookieConsentBanner)\n\ndocument.currentScript\n  .insertAdjacentHTML('beforebegin', '<lgpd-cookie-consent-banner></lgpd-cookie-consent-banner>')\n"]}